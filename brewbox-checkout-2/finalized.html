<!DOCTYPE html>
<html lang="en" x-data="checkout()" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrewBox - Premium Coffee Subscription</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        stone: {
                            50: '#fafaf9',
                            100: '#f5f5f4',
                            200: '#e7e5e4',
                            300: '#d6d3d1',
                            400: '#a8a29e',
                            500: '#78716c',
                            600: '#57534e',
                            700: '#44403c',
                            800: '#292524',
                            900: '#1c1917',
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'shine': 'shine 1.5s linear infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        shine: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(100%)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1c1917 0%, #292524 50%, #44403c 100%);
        }
        .coffee-texture {
            background-image: url('https://images.unsplash.com/photo-1709486688594-438596b68fc8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w4MDcxMzN8MHwxfHNlYXJjaHwxfHxkYXJrJTIwY29mZmVlJTIwYmVhbnMlMjBiYWNrZ3JvdW5kJTIwdGV4dHVyZSUyMHByZW1pdW18ZW58MHwwfHx8MTc1ODg3NzY3OXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=TailFlux&photo_id=KkYJpIRMjQE');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            background-color: rgba(28, 25, 23, 0.8);
        }
        .input-focus:focus {
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);
            border-color: #8b5cf6;
        }
        .card-flip {
            transform-style: preserve-3d;
            transition: transform 0.6s, box-shadow 0.3s;
        }
        .card-flip:hover {
            transform: translateY(-5px) rotateX(5deg);
            box-shadow: 0 20px 35px rgba(0,0,0,0.35);
        }
    </style>
</head>
<body class="gradient-bg text-stone-100 min-h-screen font-sans antialiased">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <header class="coffee-texture rounded-2xl p-8 mb-8 text-center relative overflow-hidden">
            <div class="absolute inset-0 bg-black/40"></div>
            <div class="absolute inset-0 pointer-events-none">
                <span class="absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-white/5 to-transparent animate-shine"></span>
            </div>
            <div class="relative z-10">
                <div class="flex justify-center mb-4">
                    <div class="w-16 h-16 bg-gradient-to-r from-orange-400 to-purple-600 rounded-full flex items-center justify-center shadow-lg ring-4 ring-white/10">
                        <i class="fas fa-mug-hot text-2xl text-white"></i>
                    </div>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent mb-2 animate-pulse-slow">BrewBox</h1>
                <p class="text-stone-300 text-lg">Premium Artisan Coffee Subscription</p>
            </div>
        </header>

        <!-- Progress -->
        <nav aria-label="Checkout steps" class="flex justify-center mb-12">
            <ol class="flex items-center space-x-2 md:space-x-6 text-sm">
                <li class="flex items-center group">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300" aria-hidden="true">
                        <i class="fas fa-shopping-cart text-white"></i>
                    </div>
                    <span class="ml-3 text-purple-300 font-medium">Cart</span>
                </li>
                <li class="w-12 md:w-20 h-1 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full" aria-hidden="true"></li>
                <li class="flex items-center group">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300" aria-hidden="true">
                        <i class="fas fa-user text-white"></i>
                    </div>
                    <span class="ml-3 text-purple-300 font-medium">Details</span>
                </li>
                <li class="w-12 md:w-20 h-1 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full" aria-hidden="true"></li>
                <li class="flex items-center group">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300 relative" aria-hidden="true">
                        <i class="fas fa-credit-card text-white"></i>
                        <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full animate-ping"></div>
                    </div>
                    <span class="ml-3 text-blue-300 font-semibold">Payment</span>
                </li>
            </ol>
        </nav>

        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Left Column -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Subscription Plan -->
                <section class="bg-stone-800/80 backdrop-blur-sm rounded-2xl p-8 border border-stone-700/50 shadow-2xl card-flip animate-fade-in">
                    <div class="flex items-start justify-between mb-6">
                        <h2 class="text-2xl font-bold bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent">
                            <i class="fas fa-star mr-3"></i>Your Subscription
                        </h2>
                        <span class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold">Most Popular</span>
                    </div>
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
                        <div class="flex-1">
                            <h3 class="font-bold text-xl text-white mb-2">Artisan Roaster Selection</h3>
                            <p class="text-stone-300 mb-3">Curated monthly delivery of premium coffee beans</p>
                            <div class="flex items-center flex-wrap gap-x-6 gap-y-2 text-sm text-stone-400">
                                <span class="flex items-center"><i class="fas fa-box mr-2 text-purple-400"></i>3 bags</span>
                                <span class="flex items-center"><i class="fas fa-calendar mr-2 text-blue-400"></i>Monthly</span>
                                <span class="flex items-center"><i class="fas fa-shipping-fast mr-2 text-green-400"></i>Free Shipping</span>
                                <span class="flex items-center"><i class="fas fa-leaf mr-2 text-emerald-400"></i>Ethically Sourced</span>
                            </div>
                        </div>
                        <div class="md:w-40 w-full">
                            <div class="relative overflow-hidden rounded-xl ring-1 ring-stone-700/60">
                                <img src="https://images.unsplash.com/photo-1623577411094-b22a7607cbb9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w4MDcxMzN8MHwxfHNlYXJjaHwxfHxjb2ZmZWUlMjBzdWJzY3JpcHRpb24lMjBib3glMjBicmFuZGluZyUyMGZsYXRsYXl8ZW58MHwwfHx8MTc1ODg3NzY4MHww&ixlib=rb-4.1.0&q=80&w=800&utm_source=TailFlux&photo_id=ttqZA05sE6w" alt="BrewBox subscription box" loading="lazy" class="w-full h-28 object-cover">
                                <span class="absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent"></span>
                            </div>
                        </div>
                        <div class="text-right min-w-[8rem]">
                            <div class="text-3xl font-bold text-blue-400">$<span x-text="basePrice.toFixed(2)"></span></div>
                            <div class="text-stone-400 text-sm">per month</div>
                        </div>
                    </div>
                </section>

                <!-- Shipping Information -->
                <section class="bg-stone-800/80 backdrop-blur-sm rounded-2xl p-8 border border-stone-700/50 shadow-2xl animate-slide-up">
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent mb-6">
                        <i class="fas fa-truck mr-3"></i>Shipping Information
                    </h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label for="first_name" class="block text-stone-300 text-sm font-medium">First Name</label>
                            <input id="first_name" name="first_name" autocomplete="given-name" type="text" required class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500" placeholder="Jane">
                        </div>
                        <div class="space-y-2">
                            <label for="last_name" class="block text-stone-300 text-sm font-medium">Last Name</label>
                            <input id="last_name" name="last_name" autocomplete="family-name" type="text" required class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500" placeholder="Doe">
                        </div>
                        <div class="md:col-span-2 space-y-2">
                            <label for="address" class="block text-stone-300 text-sm font-medium">Address</label>
                            <input id="address" name="address" autocomplete="address-line1" type="text" required class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500" placeholder="123 Coffee Lane">
                        </div>
                        <div class="space-y-2">
                            <label for="city" class="block text-stone-300 text-sm font-medium">City</label>
                            <input id="city" name="city" autocomplete="address-level2" type="text" required class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500" placeholder="Beanville">
                        </div>
                        <div class="space-y-2">
                            <label for="zip" class="block text-stone-300 text-sm font-medium">ZIP / Postal Code</label>
                            <input id="zip" name="zip" autocomplete="postal-code" type="text" inputmode="numeric" pattern="[0-9\- ]{3,10}" required class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500" placeholder="12345">
                        </div>
                        <div class="md:col-span-2">
                            <label class="inline-flex items-center gap-3 text-stone-300 text-sm">
                                <input type="checkbox" class="rounded bg-stone-700 border-stone-600 text-purple-600 focus:ring-purple-500/40">
                                Save as default shipping address
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Payment Method -->
                <section class="bg-stone-800/80 backdrop-blur-sm rounded-2xl p-8 border border-stone-700/50 shadow-2xl animate-slide-up">
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent mb-6">
                        <i class="fas fa-credit-card mr-3"></i>Payment Method
                    </h2>
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-4">
                            <button type="button" @click="selectedPayment = 'card'" :class="selectedPayment === 'card' ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold border-purple-500/30' : 'bg-stone-700/50 text-stone-200 border-stone-600 hover:bg-stone-600/50'" class="rounded-xl p-4 text-center transform hover:scale-105 transition-all duration-300 shadow-lg border">
                                <i class="fas fa-credit-card mr-2"></i>Credit Card
                            </button>
                            <button type="button" @click="selectedPayment = 'paypal'" :class="selectedPayment === 'paypal' ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold border-purple-500/30' : 'bg-stone-700/50 text-stone-200 border-stone-600 hover:bg-stone-600/50'" class="rounded-xl p-4 text-center transform hover:scale-105 transition-all duration-300 shadow-lg border">
                                <i class="fab fa-paypal mr-2 text-blue-400"></i>PayPal
                            </button>
                        </div>

                        <!-- Card Logos -->
                        <div class="flex items-center gap-4 text-stone-400 text-2xl">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-amex"></i>
                            <i class="fab fa-cc-apple-pay"></i>
                            <i class="fab fa-cc-paypal"></i>
                            <span class="ml-auto text-xs text-stone-400"><i class="fas fa-lock text-green-400 mr-1"></i>Secure & encrypted</span>
                        </div>

                        <!-- Card Fields -->
                        <div x-show="selectedPayment === 'card'" x-transition.opacity>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="md:col-span-2 space-y-2">
                                    <label for="cardnumber" class="block text-stone-300 text-sm font-medium">Card Number</label>
                                    <div class="relative">
                                        <input id="cardnumber" name="cardnumber" inputmode="numeric" autocomplete="cc-number" maxlength="19" placeholder="1234 5678 9012 3456" class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 pl-12 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500">
                                        <i class="fas fa-credit-card absolute left-4 top-1/2 -translate-y-1/2 text-stone-400"></i>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label for="expdate" class="block text-stone-300 text-sm font-medium">Expiry Date</label>
                                    <div class="relative">
                                        <input id="expdate" name="expdate" inputmode="numeric" autocomplete="cc-exp" maxlength="5" placeholder="MM/YY" class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 pl-12 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500">
                                        <i class="fas fa-calendar-alt absolute left-4 top-1/2 -translate-y-1/2 text-stone-400"></i>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label for="cvv" class="block text-stone-300 text-sm font-medium">CVV</label>
                                    <div class="relative">
                                        <input id="cvv" name="cvv" inputmode="numeric" autocomplete="cc-csc" maxlength="4" placeholder="123" class="w-full bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 pl-12 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500">
                                        <i class="fas fa-lock absolute left-4 top-1/2 -translate-y-1/2 text-stone-400"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- PayPal Notice -->
                        <div x-show="selectedPayment === 'paypal'" x-transition.opacity class="text-stone-300 bg-stone-700/40 border border-stone-600 rounded-xl p-4">
                            <i class="fab fa-paypal text-blue-400 mr-2"></i>
                            You will be redirected to PayPal to complete your purchase securely.
                        </div>
                    </div>
                </section>
            </div>

            <!-- Right Column -->
            <aside class="space-y-8">
                <!-- Order Summary -->
                <section class="bg-stone-800/80 backdrop-blur-sm rounded-2xl p-8 border border-stone-700/50 shadow-2xl lg:sticky lg:top-8 animate-fade-in">
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent mb-6">
                        <i class="fas fa-receipt mr-3"></i>Order Summary
                    </h2>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center py-2 border-b border-stone-700/50">
                            <span class="text-stone-300">Monthly Subscription</span>
                            <span class="font-semibold">$<span x-text="basePrice.toFixed(2)"></span></span>
                        </div>

                        <template x-if="promoApplied">
                            <div class="flex justify-between items-center py-2 border-b border-stone-700/50 text-emerald-300">
                                <span class="flex items-center"><i class="fas fa-tag mr-2"></i>Promo (BREW10)</span>
                                <span class="font-semibold">- $<span x-text="discount.toFixed(2)"></span></span>
                            </div>
                        </template>

                        <div class="flex justify-between items-center py-2 border-b border-stone-700/50">
                            <span class="text-stone-300">Shipping</span>
                            <span class="text-green-400 font-semibold flex items-center">
                                <i class="fas fa-check-circle mr-1"></i> FREE
                            </span>
                        </div>
                        <div class="flex justify-between items-center py-2 border-b border-stone-700/50">
                            <span class="text-stone-300">Tax</span>
                            <span class="font-semibold">$<span x-text="Number(tax).toFixed(2)"></span></span>
                        </div>
                        <div class="pt-4 mt-2 border-t border-stone-600">
                            <div class="flex justify-between items-center text-xl font-bold">
                                <span>Total</span>
                                <span class="text-blue-400 text-2xl">$<span x-text="Number(total).toFixed(2)"></span></span>
                            </div>
                            <p class="text-stone-400 text-sm mt-2">Charged monthly • Cancel anytime</p>
                        </div>

                        <!-- Promo Code -->
                        <div class="mt-4">
                            <button type="button" @click="showPromo = !showPromo" class="text-sm text-purple-300 hover:text-purple-200 transition-colors">
                                <i class="fas fa-tag mr-1"></i>Have a promo code?
                            </button>
                            <div x-show="showPromo" x-transition.opacity class="mt-3 flex items-center gap-2">
                                <input x-model="promoCode" type="text" placeholder="Enter code (try BREW10)" class="flex-1 bg-stone-700/50 border border-stone-600 rounded-xl px-4 py-3 focus:outline-none input-focus transition-all duration-300 placeholder-stone-500">
                                <button @click="applyPromo" class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all">
                                    Apply
                                </button>
                            </div>
                            <p x-show="promoError" x-text="promoError" class="text-sm text-red-400 mt-2"></p>
                            <p x-show="promoApplied" class="text-sm text-emerald-300 mt-2"><i class="fas fa-badge-check mr-1"></i>Promo applied!</p>
                        </div>
                    </div>

                    <button @click="processOrder($event)" :disabled="isProcessing" class="w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-60 disabled:cursor-not-allowed text-white py-4 rounded-xl font-bold mt-6 transition-all duration-300 transform hover:scale-105 shadow-lg relative overflow-hidden group">
                        <span class="relative z-10 flex items-center justify-center">
                            <i :class="isProcessing ? 'fas fa-spinner fa-spin mr-2' : 'fas fa-mug-hot mr-2 group-hover:rotate-12 transition-transform'"></i>
                            <span x-text="isProcessing ? 'Processing...' : 'Complete Subscription'"></span>
                        </span>
                        <div class="absolute inset-0 bg-gradient-to-r from-blue-600 to-cyan-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                    </button>

                    <p class="text-stone-400 text-xs text-center mt-4 leading-relaxed">
                        <i class="fas fa-lock mr-1 text-green-400"></i>
                        Secure checkout • 256-bit SSL encryption
                    </p>
                    <p class="text-stone-500 text-xs text-center mt-2">
                        By completing your order, you agree to our Terms of Service and Privacy Policy.
                    </p>
                </section>

                <!-- Benefits -->
                <section class="bg-stone-800/80 backdrop-blur-sm rounded-2xl p-8 border border-stone-700/50 shadow-2xl animate-slide-up">
                    <h3 class="font-bold text-lg bg-gradient-to-r from-orange-400 to-purple-600 bg-clip-text text-transparent mb-4">
                        <i class="fas fa-gem mr-2"></i>Why Choose BrewBox?
                    </h3>
                    <ul class="space-y-3 text-stone-300">
                        <li class="flex items-center p-2 rounded-lg hover:bg-stone-700/50 transition-all duration-300">
                            <span class="w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3 text-white text-xs">
                                <i class="fas fa-check"></i>
                            </span>
                            Curated artisan coffees from top roasters
                        </li>
                        <li class="flex items-center p-2 rounded-lg hover:bg-stone-700/50 transition-all duration-300">
                            <span class="w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3 text-white text-xs">
                                <i class="fas fa-check"></i>
                            </span>
                            Free worldwide shipping & fast delivery
                        </li>
                        <li class="flex items-center p-2 rounded-lg hover:bg-stone-700/50 transition-all duration-300">
                            <span class="w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3 text-white text-xs">
                                <i class="fas fa-check"></i>
                            </span>
                            Flexible cancellation anytime
                        </li>
                        <li class="flex items-center p-2 rounded-lg hover:bg-stone-700/50 transition-all duration-300">
                            <span class="w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3 text-white text-xs">
                                <i class="fas fa-check"></i>
                            </span>
                            Exclusive member perks & discounts
                        </li>
                        <li class="flex items-center p-2 rounded-lg hover:bg-stone-700/50 transition-all duration-300">
                            <span class="w-6 h-6 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center mr-3 text-white text-xs">
                                <i class="fas fa-check"></i>
                            </span>
                            Fresh roasted beans delivered monthly
                        </li>
                    </ul>
                    <div class="mt-6 overflow-hidden rounded-xl ring-1 ring-stone-700/60">
                        <img src="https://images.unsplash.com/photo-1581477585654-3e3620c3818e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w4MDcxMzN8MHwxfHNlYXJjaHwxfHxiYXJpc3RhJTIwcG91ciUyMG92ZXIlMjBrZXR0bGUlMjBnb29zZW5lY2slMjBzdGVhbXxlbnwwfDB8fHwxNzU4ODc3NjgwfDA&ixlib=rb-4.1.0&q=80&w=1200&utm_source=TailFlux&photo_id=rIgKp2nC3jE" alt="Barista pouring coffee" loading="lazy" class="w-full h-40 object-cover">
                    </div>
                </section>

                <!-- Trust Badges -->
                <section class="bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-2xl p-6 border border-purple-500/20 text-center">
                    <h4 class="font-semibold text-stone-200 mb-3">Trusted by Coffee Lovers</h4>
                    <div class="flex justify-center space-x-8 text-stone-400">
                        <div class="text-center">
                            <i class="fas fa-star text-yellow-400 text-xl"></i>
                            <div class="text-sm mt-1">4.9/5 Rating</div>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-users text-blue-400 text-xl"></i>
                            <div class="text-sm mt-1">10K+ Members</div>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-award text-green-400 text-xl"></i>
                            <div class="text-sm mt-1">Award Winning</div>
                        </div>
                        <div class="text-center">
                            <i class="fas fa-rotate text-emerald-400 text-xl"></i>
                            <div class="text-sm mt-1">30-Day Guarantee</div>
                        </div>
                    </div>
                </section>
            </aside>
        </div>

        <!-- Footer -->
        <footer class="text-center mt-12 pt-8 border-t border-stone-700/50">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="#" class="text-stone-400 hover:text-orange-400 transition-colors duration-300" aria-label="Instagram">
                    <i class="fab fa-instagram text-xl"></i>
                </a>
                <a href="#" class="text-stone-400 hover:text-blue-400 transition-colors duration-300" aria-label="Twitter">
                    <i class="fab fa-twitter text-xl"></i>
                </a>
                <a href="#" class="text-stone-400 hover:text-purple-400 transition-colors duration-300" aria-label="Facebook">
                    <i class="fab fa-facebook text-xl"></i>
                </a>
            </div>
            <p class="text-stone-500 text-sm">
                &copy; 2024 BrewBox. Crafted with <i class="fas fa-heart text-red-400 mx-1"></i> for coffee enthusiasts.
            </p>
        </footer>
    </div>

    <!-- Success Modal -->
    <div x-show="showSuccess" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95"
         class="fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="successTitle">
        <div class="bg-gradient-to-br from-stone-800 to-stone-900 rounded-3xl p-8 max-w-md w-full text-center border border-stone-700/50 shadow-2xl relative overflow-hidden">
            <div class="absolute -top-10 -right-10 w-40 h-40 bg-emerald-500/10 rounded-full blur-3xl"></div>
            <div class="w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-400 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce-slow">
                <i class="fas fa-check text-3xl text-white"></i>
            </div>
            <h3 id="successTitle" class="text-2xl font-bold text-white mb-2">Welcome to BrewBox!</h3>
            <p class="text-stone-300 mb-6">Your subscription has been activated successfully. Get ready for amazing coffee!</p>
            <button @click="showSuccess = false" class="bg-gradient-to-r from-purple-600 to-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-300">
                Start Brewing!
            </button>
        </div>
    </div>

    <script>
        function checkout() {
            return {
                // UI State
                showSuccess: false,
                isProcessing: false,
                selectedPayment: 'card',
                showPromo: false,
                promoCode: '',
                promoApplied: false,
                promoError: '',
                // Pricing
                basePrice: 34.99,
                shipping: 0,
                taxRate: 0.08,
                discount: 0,
                get tax() {
                    const taxable = Math.max(this.basePrice - this.discount, 0);
                    return (taxable * this.taxRate).toFixed(2);
                },
                get total() {
                    return ((this.basePrice - this.discount) + this.shipping + parseFloat(this.tax)).toFixed(2);
                },
                applyPromo() {
                    const code = this.promoCode.trim().toUpperCase();
                    if (this.promoApplied) {
                        this.promoError = 'Promo already applied.';
                        setTimeout(() => this.promoError = '', 2000);
                        return;
                    }
                    if (code === 'BREW10') {
                        this.discount = 3.50;
                        this.promoApplied = true;
                        this.promoError = '';
                    } else {
                        this.promoError = 'Invalid code. Try BREW10.';
                        setTimeout(() => this.promoError = '', 2500);
                    }
                },
                processOrder(e) {
                    if (this.isProcessing) return;
                    this.isProcessing = true;
                    setTimeout(() => {
                        this.showSuccess = true;
                        this.isProcessing = false;
                    }, 2000);
                }
            }
        }
    </script>
</body>
</html>